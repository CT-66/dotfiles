#!/bin/python3
# vim: filetype=python

from os import system
import sys


def exit():
    sys.exit()


def start(name, path):
    print(f"Starting {name}")
    system(f"startx /usr/bin/{path} 2>/dev/null")


default_wm = "/usr/bin/i3"

try:

    print(
        """WM/DE:
- i3 (1)
- Bspwm (2)
- Qtile (3)
- Xmonad (4)
- AwesomeWM (5)
- Openbox (6)
- KDE Plasma (7)
- Gnome (8)
- Dont't start xorg (0)
"""
    )

    wm = str(input("> ").strip().rstrip())

    if wm == "1":
        start("i3", "i3")
    elif wm == "2":
        start("Bspwm", "bspwm")
    elif wm == "3":
        start("Qtile", "qtile start")
    elif wm == "4":
        start("Xmonad", "xmonad")
    elif wm == "5":
        start("AwesomeWM", "awesome")
    elif wm == "6":
        start("Openbox", "openbox-session")
    elif wm == "7":
        system("export DESKTOP_SESSION=plasma")
        start("KDE Plasma", "startplasma-x11")
    elif wm == "8":
        system("export XDG_SESSION_TYPE=x11 && export GDK_BACKEND=x11")
        start("Gnome", "gnome-session")
    elif wm == "0":
        pass
    elif wm == "":
        print(f"Starting {default_wm}")
        system(f"startx {default_wm} 2>/dev/null")
    else:
        print("Invalid input")
        exit()

except KeyboardInterrupt:
    exit()

except EOFError:
    exit()
